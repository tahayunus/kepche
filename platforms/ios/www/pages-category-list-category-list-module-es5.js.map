{"version":3,"sources":["./src/app/pages/category-list/category-list.html","./src/app/pages/category-list/category-list.module.ts","./src/app/pages/category-list/category-list.scss","./src/app/pages/category-list/category-list.ts"],"names":[],"mappings":"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","file":"pages-category-list-category-list-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\" fixed>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button text=\\\"{{'BACK'|translate}}\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>{{ 'CATEGORIES' | translate }}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content #container scrollEvents=\\\"true\\\">\\n\\n  <ion-refresher (ionRefresh)=\\\"onReload($event)\\\">\\n    <ion-refresher-content pullingText=\\\"{{ 'PULL_TO_REFRESH' | translate }}\\\"\\n      refreshingText=\\\"{{ 'REFRESHING' | translate }}\\\">\\n    </ion-refresher-content>\\n  </ion-refresher>\\n\\n  <empty-view *ngIf=\\\"isErrorViewVisible\\\" icon=\\\"alert\\\" [text]=\\\"'ERROR_NETWORK' | translate\\\">\\n  </empty-view>\\n\\n  <empty-view *ngIf=\\\"isEmptyViewVisible\\\" icon=\\\"bookmark\\\" [text]=\\\"'EMPTY_DATA' | translate\\\">\\n  </empty-view>\\n\\n  <ion-grid no-padding fixed>\\n\\n    <ion-row *ngIf=\\\"isLoadingViewVisible\\\">\\n      <ion-col size-xs=\\\"12\\\" size-sm=\\\"6\\\" size-md=\\\"6\\\" size-lg=\\\"4\\\" *ngFor=\\\"let item of skeletonArray\\\">\\n        <ngx-skeleton-loader count=\\\"1\\\" appearance=\\\"circle\\\"\\n          [theme]=\\\"{ width: '100%', height: '200px', 'border-radius': '0' }\\\">\\n        </ngx-skeleton-loader>\\n      </ion-col>\\n    </ion-row>\\n\\n    <ion-row [@staggerIn]=\\\"categories.length\\\">\\n      <ion-col no-padding size-xs=\\\"12\\\" size-sm=\\\"6\\\" size-md=\\\"6\\\" size-lg=\\\"8\\\" size-lg=\\\"4\\\" float-left\\n        *ngFor=\\\"let category of categories\\\">\\n        <ion-card mode=\\\"ios\\\">\\n          <div class=\\\"card\\\" [routerLink]=\\\"['../places']\\\" [queryParams]=\\\"{ category: category.id }\\\">\\n            <div class=\\\"bg-img\\\" defaultImage=\\\"./assets/img/placeholder.png\\\" [lazyLoad]=\\\"category.image?.url()\\\"\\n              [scrollObservable]=\\\"loadAndScroll\\\">\\n            </div>\\n            <div class=\\\"content\\\">\\n              <ion-text color=\\\"light\\\">\\n                <h5 class=\\\"bold\\\">{{ category.title }}</h5>\\n              </ion-text>\\n              <ion-text color=\\\"light\\\">\\n                <span class=\\\"bold\\\">\\n                  {{ category.placeCount }} {{ 'PLACES' | translate }}\\n                </span>\\n              </ion-text>\\n            </div>\\n          </div>\\n        </ion-card>\\n      </ion-col>\\n    </ion-row>\\n\\n  </ion-grid>\\n\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { SharedModule } from '../../shared.module';\n\nimport { CategoryListPage } from './category-list';\n\n@NgModule({\n  declarations: [\n    CategoryListPage,\n  ],\n  imports: [\n    IonicModule,\n    SharedModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: CategoryListPage\n      }\n    ])\n  ],\n  exports: [\n    CategoryListPage\n  ]\n})\nexport class CategoryListPageModule {}\n","module.exports = \"ion-content {\\n  --background: var(--ion-color-light);\\n}\\n\\n.card {\\n  height: 200px;\\n  position: relative;\\n}\\n\\n.card .bg-img {\\n  background-size: cover;\\n  background-position: center;\\n  position: absolute;\\n  top: 0;\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n}\\n\\n.card .bg-img:after {\\n  content: \\\"\\\";\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  top: 0;\\n  left: 0;\\n  background: rgba(0, 0, 0, 0.5);\\n}\\n\\n.card .content {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  align-self: center;\\n  justify-content: center;\\n  height: 100%;\\n}\\n\\n.card .content ion-text {\\n  z-index: 9999;\\n}\\n\\n.card .content span {\\n  background: linear-gradient(135deg, var(--ion-color-secondary), var(--ion-color-secondary));\\n  border-radius: 16px;\\n  padding: 4px 16px;\\n}\\n\\n@media only screen and (min-width: 581px) {\\n  .card {\\n    margin: 0px;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tZWhtZXRzYWhpbi9Eb2N1bWVudHMvR2l0SHViL2tlcGNoZS9zcmMvYXBwL3BhZ2VzL2NhdGVnb3J5LWxpc3QvY2F0ZWdvcnktbGlzdC5zY3NzIiwic3JjL2FwcC9wYWdlcy9jYXRlZ29yeS1saXN0L2NhdGVnb3J5LWxpc3Quc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLG9DQUFBO0FDQ0Y7O0FERUE7RUFDRSxhQUFBO0VBQ0Esa0JBQUE7QUNDRjs7QURDRTtFQUNFLHNCQUFBO0VBQ0EsMkJBQUE7RUFDQSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxTQUFBO0VBQ0EsT0FBQTtFQUNBLFFBQUE7QUNDSjs7QURDSTtFQUNFLFdBQUE7RUFDQSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsTUFBQTtFQUNBLE9BQUE7RUFDQSw4QkFBQTtBQ0NOOztBREdFO0VBQ0UsYUFBQTtFQUNBLHNCQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLHVCQUFBO0VBQ0EsWUFBQTtBQ0RKOztBREdJO0VBQ0UsYUFBQTtBQ0ROOztBRElJO0VBQ0UsMkZBQUE7RUFDQSxtQkFBQTtFQUNBLGlCQUFBO0FDRk47O0FET0E7RUFDRTtJQUNFLFdBQUE7RUNKRjtBQUNGIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvY2F0ZWdvcnktbGlzdC9jYXRlZ29yeS1saXN0LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY29udGVudCB7XG4gIC0tYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLWxpZ2h0KTtcbn1cblxuLmNhcmQge1xuICBoZWlnaHQ6IDIwMHB4O1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG5cbiAgLmJnLWltZyB7XG4gICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMDtcbiAgICBib3R0b206IDA7XG4gICAgbGVmdDogMDtcbiAgICByaWdodDogMDtcblxuICAgICY6YWZ0ZXIge1xuICAgICAgY29udGVudDogJyc7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgIHRvcDogMDtcbiAgICAgIGxlZnQ6IDA7XG4gICAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuNSk7XG4gICAgfVxuICB9XG5cbiAgLmNvbnRlbnQge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGFsaWduLXNlbGY6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBoZWlnaHQ6IDEwMCU7XG5cbiAgICBpb24tdGV4dCB7XG4gICAgICB6LWluZGV4OiA5OTk5O1xuICAgIH1cblxuICAgIHNwYW4ge1xuICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgdmFyKC0taW9uLWNvbG9yLXNlY29uZGFyeSksIHZhcigtLWlvbi1jb2xvci1zZWNvbmRhcnkpKTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDE2cHg7XG4gICAgICBwYWRkaW5nOiA0cHggMTZweDtcbiAgICB9XG4gIH1cbn1cblxuQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA1ODFweCkge1xuICAuY2FyZCB7XG4gICAgbWFyZ2luOiAwcHg7XG4gIH1cbn0iLCJpb24tY29udGVudCB7XG4gIC0tYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLWxpZ2h0KTtcbn1cblxuLmNhcmQge1xuICBoZWlnaHQ6IDIwMHB4O1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG59XG4uY2FyZCAuYmctaW1nIHtcbiAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgYm90dG9tOiAwO1xuICBsZWZ0OiAwO1xuICByaWdodDogMDtcbn1cbi5jYXJkIC5iZy1pbWc6YWZ0ZXIge1xuICBjb250ZW50OiBcIlwiO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjUpO1xufVxuLmNhcmQgLmNvbnRlbnQge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBhbGlnbi1zZWxmOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBoZWlnaHQ6IDEwMCU7XG59XG4uY2FyZCAuY29udGVudCBpb24tdGV4dCB7XG4gIHotaW5kZXg6IDk5OTk7XG59XG4uY2FyZCAuY29udGVudCBzcGFuIHtcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgdmFyKC0taW9uLWNvbG9yLXNlY29uZGFyeSksIHZhcigtLWlvbi1jb2xvci1zZWNvbmRhcnkpKTtcbiAgYm9yZGVyLXJhZGl1czogMTZweDtcbiAgcGFkZGluZzogNHB4IDE2cHg7XG59XG5cbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNTgxcHgpIHtcbiAgLmNhcmQge1xuICAgIG1hcmdpbjogMHB4O1xuICB9XG59Il19 */\"","import { Component, Injector, ViewChild } from '@angular/core';\nimport { IonContent } from '@ionic/angular';\nimport { Subject, Observable, merge } from 'rxjs';\nimport { Category } from '../../services/categories';\nimport { BasePage } from '../base-page/base-page';\nimport {\n  trigger,\n  style,\n  animate,\n  transition,\n  query,\n  stagger\n} from '@angular/animations';\n\n@Component({\n  selector: 'category-list-page',\n  templateUrl: 'category-list.html',\n  styleUrls: ['category-list.scss'],\n  animations: [\n    trigger('staggerIn', [\n      transition('* => *', [\n        query(':enter', style({ opacity: 0, transform: `translate3d(0,10px,0)` }), { optional: true }),\n        query(':enter', stagger('100ms', [animate('300ms', style({ opacity: 1, transform: `translate3d(0,0,0)` }))]), { optional: true })\n      ])\n    ])\n  ]\n})\nexport class CategoryListPage extends BasePage {\n\n  @ViewChild(IonContent, { static: true }) container: IonContent;\n\n  protected skeletonArray: any;\n\n  public categories: Category[] = [];\n\n  public contentLoaded: Subject<any>;\n  public loadAndScroll: Observable<any>;\n\n  constructor(injector: Injector,\n    private categoryService: Category) {\n    super(injector);\n    this.skeletonArray = Array(12);\n  }\n\n  enableMenuSwipe() {\n    return true;\n  }\n\n  ngOnInit() {\n    this.setupObservables();\n  }\n\n  setupObservables() {\n\n    this.contentLoaded = new Subject();\n\n    this.loadAndScroll = merge(\n      this.container.ionScroll,\n      this.contentLoaded,\n    );\n  }\n\n  onContentLoaded() {\n    setTimeout(() => {\n      this.contentLoaded.next();\n    }, 300);\n  }\n\n  async ionViewDidEnter() {\n    if (!this.categories.length) {\n      await this.showLoadingView({ showOverlay: false });\n      this.loadData();\n    }\n\n    const title = await this.getTrans('CATEGORIES');\n    this.setPageTitle(title);\n\n    this.setMetaTags({\n      title: title\n    });\n  }\n\n  async loadData() {\n\n    try {\n\n      this.categories = await this.categoryService.load();\n  \n      if (this.categories.length) {\n        this.showContentView();\n      } else {\n        this.showEmptyView();\n      }\n\n      this.onContentLoaded();\n  \n      this.onRefreshComplete();\n\n    } catch (error) {\n      this.showErrorView();\n      this.onRefreshComplete();\n    }\n  }\n\n  onReload(event: any = {}) {\n    this.refresher = event.target;\n    this.loadData();\n  }\n\n}\n"],"sourceRoot":"webpack:///"}