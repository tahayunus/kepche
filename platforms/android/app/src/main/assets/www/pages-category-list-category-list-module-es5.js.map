{"version":3,"sources":["./src/app/pages/category-list/category-list.html","./src/app/pages/category-list/category-list.module.ts","./src/app/pages/category-list/category-list.scss","./src/app/pages/category-list/category-list.ts"],"names":[],"mappings":"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","file":"pages-category-list-category-list-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar color=\\\"primary\\\" fixed>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button text=\\\"{{'BACK'|translate}}\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>{{ 'CATEGORIES' | translate }}</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content #container scrollEvents=\\\"true\\\">\\r\\n\\r\\n  <ion-refresher (ionRefresh)=\\\"onReload($event)\\\">\\r\\n    <ion-refresher-content pullingText=\\\"{{ 'PULL_TO_REFRESH' | translate }}\\\"\\r\\n      refreshingText=\\\"{{ 'REFRESHING' | translate }}\\\">\\r\\n    </ion-refresher-content>\\r\\n  </ion-refresher>\\r\\n\\r\\n  <empty-view *ngIf=\\\"isErrorViewVisible\\\" icon=\\\"alert\\\" [text]=\\\"'ERROR_NETWORK' | translate\\\">\\r\\n  </empty-view>\\r\\n\\r\\n  <empty-view *ngIf=\\\"isEmptyViewVisible\\\" icon=\\\"bookmark\\\" [text]=\\\"'EMPTY_DATA' | translate\\\">\\r\\n  </empty-view>\\r\\n\\r\\n  <ion-grid no-padding fixed>\\r\\n\\r\\n    <ion-row *ngIf=\\\"isLoadingViewVisible\\\">\\r\\n      <ion-col size-xs=\\\"12\\\" size-sm=\\\"6\\\" size-md=\\\"6\\\" size-lg=\\\"4\\\" *ngFor=\\\"let item of skeletonArray\\\">\\r\\n        <ngx-skeleton-loader count=\\\"1\\\" appearance=\\\"circle\\\"\\r\\n          [theme]=\\\"{ width: '100%', height: '200px', 'border-radius': '0' }\\\">\\r\\n        </ngx-skeleton-loader>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n\\r\\n    <ion-row [@staggerIn]=\\\"categories.length\\\">\\r\\n      <ion-col no-padding size-xs=\\\"12\\\" size-sm=\\\"6\\\" size-md=\\\"6\\\" size-lg=\\\"8\\\" size-lg=\\\"4\\\" float-left\\r\\n        *ngFor=\\\"let category of categories\\\">\\r\\n        <ion-card mode=\\\"ios\\\">\\r\\n          <div class=\\\"card\\\" [routerLink]=\\\"['../places']\\\" [queryParams]=\\\"{ category: category.id }\\\">\\r\\n            <div class=\\\"bg-img\\\" defaultImage=\\\"./assets/img/placeholder.png\\\" [lazyLoad]=\\\"category.image?.url()\\\"\\r\\n              [scrollObservable]=\\\"loadAndScroll\\\">\\r\\n            </div>\\r\\n            <div class=\\\"content\\\">\\r\\n              <ion-text color=\\\"light\\\">\\r\\n                <h5 class=\\\"bold\\\">{{ category.title }}</h5>\\r\\n              </ion-text>\\r\\n              <ion-text color=\\\"light\\\">\\r\\n                <span class=\\\"bold\\\">\\r\\n                  {{ category.placeCount }} {{ 'PLACES' | translate }}\\r\\n                </span>\\r\\n              </ion-text>\\r\\n            </div>\\r\\n          </div>\\r\\n        </ion-card>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n\\r\\n  </ion-grid>\\r\\n\\r\\n</ion-content>\"","import { NgModule } from '@angular/core';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { RouterModule } from '@angular/router';\r\nimport { SharedModule } from '../../shared.module';\r\n\r\nimport { CategoryListPage } from './category-list';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    CategoryListPage,\r\n  ],\r\n  imports: [\r\n    IonicModule,\r\n    SharedModule,\r\n    RouterModule.forChild([\r\n      {\r\n        path: '',\r\n        component: CategoryListPage\r\n      }\r\n    ])\r\n  ],\r\n  exports: [\r\n    CategoryListPage\r\n  ]\r\n})\r\nexport class CategoryListPageModule {}\r\n","module.exports = \"ion-content {\\n  --background: var(--ion-color-light);\\n}\\n\\n.card {\\n  height: 200px;\\n  position: relative;\\n}\\n\\n.card .bg-img {\\n  background-size: cover;\\n  background-position: center;\\n  position: absolute;\\n  top: 0;\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n}\\n\\n.card .bg-img:after {\\n  content: \\\"\\\";\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  top: 0;\\n  left: 0;\\n  background: rgba(0, 0, 0, 0.5);\\n}\\n\\n.card .content {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  align-self: center;\\n  justify-content: center;\\n  height: 100%;\\n}\\n\\n.card .content ion-text {\\n  z-index: 9999;\\n}\\n\\n.card .content span {\\n  background: linear-gradient(135deg, var(--ion-color-secondary), var(--ion-color-secondary));\\n  border-radius: 16px;\\n  padding: 4px 16px;\\n}\\n\\n@media only screen and (min-width: 581px) {\\n  .card {\\n    margin: 0px;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvY2F0ZWdvcnktbGlzdC9DOlxcVXNlcnNcXFZvY2FsRWFzdFxcRG9jdW1lbnRzXFxHaXRIdWJcXGtlcGNoZS9zcmNcXGFwcFxccGFnZXNcXGNhdGVnb3J5LWxpc3RcXGNhdGVnb3J5LWxpc3Quc2NzcyIsInNyYy9hcHAvcGFnZXMvY2F0ZWdvcnktbGlzdC9jYXRlZ29yeS1saXN0LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxvQ0FBQTtBQ0NGOztBREVBO0VBQ0UsYUFBQTtFQUNBLGtCQUFBO0FDQ0Y7O0FEQ0U7RUFDRSxzQkFBQTtFQUNBLDJCQUFBO0VBQ0Esa0JBQUE7RUFDQSxNQUFBO0VBQ0EsU0FBQTtFQUNBLE9BQUE7RUFDQSxRQUFBO0FDQ0o7O0FEQ0k7RUFDRSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLE1BQUE7RUFDQSxPQUFBO0VBQ0EsOEJBQUE7QUNDTjs7QURHRTtFQUNFLGFBQUE7RUFDQSxzQkFBQTtFQUNBLG1CQUFBO0VBQ0Esa0JBQUE7RUFDQSx1QkFBQTtFQUNBLFlBQUE7QUNESjs7QURHSTtFQUNFLGFBQUE7QUNETjs7QURJSTtFQUNFLDJGQUFBO0VBQ0EsbUJBQUE7RUFDQSxpQkFBQTtBQ0ZOOztBRE9BO0VBQ0U7SUFDRSxXQUFBO0VDSkY7QUFDRiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2NhdGVnb3J5LWxpc3QvY2F0ZWdvcnktbGlzdC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNvbnRlbnQge1xyXG4gIC0tYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLWxpZ2h0KTtcclxufVxyXG5cclxuLmNhcmQge1xyXG4gIGhlaWdodDogMjAwcHg7XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG5cclxuICAuYmctaW1nIHtcclxuICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XHJcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDA7XHJcbiAgICBib3R0b206IDA7XHJcbiAgICBsZWZ0OiAwO1xyXG4gICAgcmlnaHQ6IDA7XHJcblxyXG4gICAgJjphZnRlciB7XHJcbiAgICAgIGNvbnRlbnQ6ICcnO1xyXG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgIHRvcDogMDtcclxuICAgICAgbGVmdDogMDtcclxuICAgICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLmNvbnRlbnQge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgYWxpZ24tc2VsZjogY2VudGVyO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcblxyXG4gICAgaW9uLXRleHQge1xyXG4gICAgICB6LWluZGV4OiA5OTk5O1xyXG4gICAgfVxyXG5cclxuICAgIHNwYW4ge1xyXG4gICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCB2YXIoLS1pb24tY29sb3Itc2Vjb25kYXJ5KSwgdmFyKC0taW9uLWNvbG9yLXNlY29uZGFyeSkpO1xyXG4gICAgICBib3JkZXItcmFkaXVzOiAxNnB4O1xyXG4gICAgICBwYWRkaW5nOiA0cHggMTZweDtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNTgxcHgpIHtcclxuICAuY2FyZCB7XHJcbiAgICBtYXJnaW46IDBweDtcclxuICB9XHJcbn0iLCJpb24tY29udGVudCB7XG4gIC0tYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLWxpZ2h0KTtcbn1cblxuLmNhcmQge1xuICBoZWlnaHQ6IDIwMHB4O1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG59XG4uY2FyZCAuYmctaW1nIHtcbiAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgYm90dG9tOiAwO1xuICBsZWZ0OiAwO1xuICByaWdodDogMDtcbn1cbi5jYXJkIC5iZy1pbWc6YWZ0ZXIge1xuICBjb250ZW50OiBcIlwiO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjUpO1xufVxuLmNhcmQgLmNvbnRlbnQge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBhbGlnbi1zZWxmOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBoZWlnaHQ6IDEwMCU7XG59XG4uY2FyZCAuY29udGVudCBpb24tdGV4dCB7XG4gIHotaW5kZXg6IDk5OTk7XG59XG4uY2FyZCAuY29udGVudCBzcGFuIHtcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgdmFyKC0taW9uLWNvbG9yLXNlY29uZGFyeSksIHZhcigtLWlvbi1jb2xvci1zZWNvbmRhcnkpKTtcbiAgYm9yZGVyLXJhZGl1czogMTZweDtcbiAgcGFkZGluZzogNHB4IDE2cHg7XG59XG5cbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNTgxcHgpIHtcbiAgLmNhcmQge1xuICAgIG1hcmdpbjogMHB4O1xuICB9XG59Il19 */\"","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { IonContent } from '@ionic/angular';\r\nimport { Subject, Observable, merge } from 'rxjs';\r\nimport { Category } from '../../services/categories';\r\nimport { BasePage } from '../base-page/base-page';\r\nimport {\r\n  trigger,\r\n  style,\r\n  animate,\r\n  transition,\r\n  query,\r\n  stagger\r\n} from '@angular/animations';\r\n\r\n@Component({\r\n  selector: 'category-list-page',\r\n  templateUrl: 'category-list.html',\r\n  styleUrls: ['category-list.scss'],\r\n  animations: [\r\n    trigger('staggerIn', [\r\n      transition('* => *', [\r\n        query(':enter', style({ opacity: 0, transform: `translate3d(0,10px,0)` }), { optional: true }),\r\n        query(':enter', stagger('100ms', [animate('300ms', style({ opacity: 1, transform: `translate3d(0,0,0)` }))]), { optional: true })\r\n      ])\r\n    ])\r\n  ]\r\n})\r\nexport class CategoryListPage extends BasePage {\r\n\r\n  @ViewChild(IonContent, { static: true }) container: IonContent;\r\n\r\n  protected skeletonArray: any;\r\n\r\n  public categories: Category[] = [];\r\n\r\n  public contentLoaded: Subject<any>;\r\n  public loadAndScroll: Observable<any>;\r\n\r\n  constructor(injector: Injector,\r\n    private categoryService: Category) {\r\n    super(injector);\r\n    this.skeletonArray = Array(12);\r\n  }\r\n\r\n  enableMenuSwipe() {\r\n    return true;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.setupObservables();\r\n  }\r\n\r\n  setupObservables() {\r\n\r\n    this.contentLoaded = new Subject();\r\n\r\n    this.loadAndScroll = merge(\r\n      this.container.ionScroll,\r\n      this.contentLoaded,\r\n    );\r\n  }\r\n\r\n  onContentLoaded() {\r\n    setTimeout(() => {\r\n      this.contentLoaded.next();\r\n    }, 300);\r\n  }\r\n\r\n  async ionViewDidEnter() {\r\n    if (!this.categories.length) {\r\n      await this.showLoadingView({ showOverlay: false });\r\n      this.loadData();\r\n    }\r\n\r\n    const title = await this.getTrans('CATEGORIES');\r\n    this.setPageTitle(title);\r\n\r\n    this.setMetaTags({\r\n      title: title\r\n    });\r\n  }\r\n\r\n  async loadData() {\r\n\r\n    try {\r\n\r\n      this.categories = await this.categoryService.load();\r\n  \r\n      if (this.categories.length) {\r\n        this.showContentView();\r\n      } else {\r\n        this.showEmptyView();\r\n      }\r\n\r\n      this.onContentLoaded();\r\n  \r\n      this.onRefreshComplete();\r\n\r\n    } catch (error) {\r\n      this.showErrorView();\r\n      this.onRefreshComplete();\r\n    }\r\n  }\r\n\r\n  onReload(event: any = {}) {\r\n    this.refresher = event.target;\r\n    this.loadData();\r\n  }\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}